{% set name = "tdastro" %}
{% set version = "0.0.5" %}
{% set python_min = "3.10" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/tdastro-{{ version }}.tar.gz
  sha256: 9299aa3575b81c17a20b04ba3518c789db2cda564a3375ffa0e8ff4c9e32af8a

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python {{ python_min }}.*
    - setuptools >=62
    - setuptools-scm >=6.2
    - pip
  run:
    - python >={{ python_min }}
    - astropy-base
    - cdshealpix
    - citation-compass >=0.0.3
    - dust_extinction
    - extinction >=0.4.7
    - jax
    - matplotlib-base
    - nested-pandas
    - numpy >2.0
    - pandas
    - pooch
    - pzflow
    - scipy
    - sncosmo

test:
  imports:
    - tdastro
  requires:
    - pip
    - python {{ python_min }}
  commands:
    - pip check

about:
  home: https://github.com/lincc-frameworks/tdastro
  summary: 'Time-Domain Forward-Modeling for the Rubin Era'
  description: |
    TDAstro aims to provide a flexible, scalable, and user-friendly time-domain 
    simulation software with realistic effects and survey strategies. The software 
    package consists of multiple stages: a flexible framework for consistently 
    sampling model parameters, realistic models of time varying phenomena (such as 
    supernovae and AGNs), effect models (such as dust extinction), and survey 
    characteristics (such as cadence, filters, and noise).
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - hombit
    - jeremykubica
    - olivialynn
